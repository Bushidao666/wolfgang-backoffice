# Template para rodar em DEV apontando para o Supabase Cloud (este arquivo NÃO contém secrets).
# Copie para `.env` e preencha os valores faltantes.
#
# Projeto: Backoffice_V2 (ref: jhdttoemeefopmplsbzl)

# Supabase Cloud
SUPABASE_URL=https://jhdttoemeefopmplsbzl.supabase.co
# IMPORTANTE: o host `db.<ref>.supabase.co` é IPv6-only por padrão; em ambientes sem IPv6 (ex.: Railway),
# use a connection string do Pooler (Dashboard → Database → Connection string → Pooler).
SUPABASE_DB_URL=postgresql://postgres:<DB_PASSWORD>@db.jhdttoemeefopmplsbzl.supabase.co:5432/postgres
SUPABASE_ANON_KEY=<SUPABASE_ANON_KEY>
SUPABASE_SERVICE_ROLE_KEY=<SUPABASE_SERVICE_ROLE_KEY>
SUPABASE_JWT_SECRET=<SUPABASE_JWT_SECRET>

# Criptografia (obrigatório para tokens/secrets)
APP_ENCRYPTION_KEY_CURRENT=<APP_ENCRYPTION_KEY_CURRENT>
APP_ENCRYPTION_KEY_PREVIOUS=
APP_ENCRYPTION_KEY=

# Auth interno (service-to-service)
INTERNAL_API_TOKEN=<INTERNAL_API_TOKEN>

# Frontend (public)
NEXT_PUBLIC_SUPABASE_URL=https://jhdttoemeefopmplsbzl.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<SUPABASE_ANON_KEY>

# Backoffice Web/API
NEXT_PUBLIC_API_URL=http://localhost:4000
CORS_ORIGIN=http://localhost:3000

# Redis (local via docker-compose)
# Observação: o `infra/compose/docker-compose.yml` expõe Redis em `${REDIS_HOST_PORT:-6380}` no host.
REDIS_URL=redis://localhost:6380

# Agent Runtime (opcional)
# Se você usar `infra/compose/docker-compose.agent-runtime-host.yml`, preencha/ajuste:
# AGENT_RUNTIME_URL=http://host.docker.internal:5000
# AGENT_RUNTIME_REDIS_URL=redis://127.0.0.1:6380
# AGENT_RUNTIME_OTEL_EXPORTER_OTLP_ENDPOINT=http://127.0.0.1:4318/v1/traces
# Se não tiver o DB password correto ainda, você pode subir o agent-runtime sem conexões:
# AGENT_RUNTIME_DISABLE_CONNECTIONS=true
