# Copie para `.env` e ajuste conforme necessário.
# NUNCA comite secrets reais.

# ----------------------------
# Global
# ----------------------------
NODE_ENV=development
LOG_LEVEL=INFO
# Preferencial (com rotação): APP_ENCRYPTION_KEY_CURRENT (+ opcional APP_ENCRYPTION_KEY_PREVIOUS)
APP_ENCRYPTION_KEY_CURRENT=dev-encryption-key-change-me
APP_ENCRYPTION_KEY_PREVIOUS=
# Legado (fallback): mantido por compatibilidade, mas prefira usar *_CURRENT
APP_ENCRYPTION_KEY=
INTERNAL_API_TOKEN=dev-internal-token-change-me

# ----------------------------
# Redis
# ----------------------------
# Observação: no `infra/compose/docker-compose.yml`, o Redis expõe a porta do host como `${REDIS_HOST_PORT:-6380}` para evitar conflito
# com um Redis já rodando localmente. Se quiser 6379 no host, defina `REDIS_HOST_PORT=6379`.
REDIS_URL=redis://localhost:6380

# ----------------------------
# Supabase (Local via `supabase start` ou remoto)
# ----------------------------
# Local default (Supabase CLI): http://localhost:54321
SUPABASE_URL=http://localhost:54321
SUPABASE_DB_URL=postgresql://postgres:postgres@localhost:54322/postgres
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_JWT_SECRET=

# Frontend (public)
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# ----------------------------
# Backoffice Web
# ----------------------------
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXT_PUBLIC_EVOLUTION_MANAGER_URL=http://localhost:4001

# ----------------------------
# Backoffice API
# ----------------------------
PORT=4000
JWT_SECRET=dev-secret
JWT_EXPIRATION=1h
CORS_ORIGIN=http://localhost:3000

# URLs internas (Docker) / externas (localhost) dos serviços
AGENT_RUNTIME_URL=http://localhost:5000
EVOLUTION_MANAGER_URL=http://localhost:4001
AUTENTIQUE_SERVICE_URL=http://localhost:4002
FACEBOOK_CAPI_URL=http://localhost:4003

# ----------------------------
# Agent Runtime
# ----------------------------
AGENT_RUNTIME_PORT=5000
# ⚠️ Credenciais de integrações externas (OpenAI/Autentique/Evolution/Meta/etc) NÃO são lidas de env.
# Configure pelo Backoffice em `core.integration_credential_sets` + `core.company_integration_bindings`.
# (Legado/experimental) Mantido apenas para compatibilidade com exemplos/experimentos: não usado pelos serviços vNext.
ANTHROPIC_API_KEY=
AGNO_LOG_LEVEL=INFO
FOLLOWUP_POLL_INTERVAL_S=30

# ----------------------------
# Evolution Manager (WhatsApp)
# ----------------------------
EVOLUTION_MANAGER_PORT=4001
WEBHOOK_SECRET=dev-webhook-secret
TELEGRAM_WEBHOOK_BASE_URL=
TELEGRAM_WEBHOOK_SECRET=

# ----------------------------
# Autentique Service (Contratos)
# ----------------------------
AUTENTIQUE_SERVICE_PORT=4002

# ----------------------------
# Facebook CAPI (Marketing)
# ----------------------------
FACEBOOK_CAPI_PORT=4003
FACEBOOK_API_VERSION=v20.0
